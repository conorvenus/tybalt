
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Tybalt validator</title>
    </head>
    <body>
        <div><h1>@tybalt/validator</h1>
<h2>Getting Started</h2>
<p>Install the package</p>
<pre><code class="language-shell">$ npm install --save @tybalt/validator
</code></pre>
<h2>Concepts</h2>
<h3>Validators</h3>
<p>Validators are asynchronous functions that return a blob of data.</p>
<p>A fully functioned validator might look like</p>
<pre><code class="language-javascript">const myValidator = {
    async validate(value) {
        return value.includes('foo');
    },
    logLevel: 'warning',
    message: 'must include substring &quot;foo&quot;',
};
</code></pre>
<h2>API</h2>
<h3>compose</h3>
<p><code>compose</code> is a method for connecting multiple validators into a single validator.</p>
<p>If you want to validate that a single value exists, and is a string that is a valid url,
you can compose those validators into a single validator as follows:</p>
<pre><code class="language-javascript">import { compose, required, string, url } from '@tybalt/validator';

const validator = compose(required(), string(), url());
const result = await validator.validate(value);
</code></pre>
<h3>matchesPattern</h3>
<p><code>matchesPattern</code> creates a validator that checks that a value matches a regex.</p>
<pre><code class="language-javascript">import { matchesPattern } from '@tybalt/validator';

const validator = matchesPattern({ pattern: \foo\ });
</code></pre>
<h3>oneOf</h3>
<p><code>oneOf</code> creates a validator that checks if a value is member of values.</p>
<pre><code class="language-javascript">import { oneOf } from '@tybalt/validator';

const validator = oneOf(['foo', 'bar']);
</code></pre>
<h3>required</h3>
<p><code>required</code> creates a validator that checks that a value is defined.</p>
<pre><code class="language-javascript">import { required } from '@tybalt/validator';

const validator = required();
</code></pre>
<h3>shouldThrow</h3>
<p><code>shouldThrow</code> wraps a validator, and throws an error if the validator fails.</p>
<pre><code class="language-javascript">import { required, shouldThrow } from '@tybalt/validator';

const validator = shouldThrow(required());
</code></pre>
<h3>string</h3>
<p><code>string</code> creates a validator that ensures a value is a string.</p>
<pre><code class="language-javascript">import { string } from '@tybalt/validator';

const validator = string();
</code></pre>
<h3>url</h3>
<p><code>url</code> creates a validator that ensures a value is a valid url.</p>
<pre><code class="language-javascript">import { url } from '@tybalt/validator';

const validator = url();
</code></pre>
<h3>validator</h3>
<p><code>validator</code> takes a callback that returns a ValidationResult or a boolean, and returns a callback. Use <code>validator</code>
to create a custom validator.</p>
<pre><code class="language-javascript">import { validator } from '@tybalt/validator';

const customValidator = validator((value) =&gt; {
    value.includes('substring');
});
</code></pre>
<h3>withLevel</h3>
<p><code>withLevel</code> adds a logging and error level to a validation result.</p>
<pre><code class="language-javascript">import { url, withLevel } from '@tybalt/validator';

const validator = withLevel(url(), 'warning');
</code></pre>
<h3>withMessage</h3>
<p><code>withMessage</code> adds a custom message to a validation result.</p>
<pre><code class="language-javascript">import { oneOf, withMessage } from '@tybalt/validator';

const validator = withMessage(oneOf([true, false]), 'must be a boolean');
</code></pre>
</div>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-90R0R9Y7VG"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());

            gtag('config', 'G-90R0R9Y7VG');
        </script>
    </body>
</html>
